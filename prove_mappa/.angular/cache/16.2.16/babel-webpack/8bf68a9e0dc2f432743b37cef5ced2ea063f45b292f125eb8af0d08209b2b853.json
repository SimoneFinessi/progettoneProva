{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../crimes.service\";\nimport * as i2 from \"@angular/common\";\nfunction CrimesRateChicagoComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.errorMessage, \" \");\n  }\n}\nfunction CrimesRateChicagoComponent_table_4_tr_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const crime_r4 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(crime_r4.primary_type);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(5, 3, crime_r4.date, \"short\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(crime_r4.description);\n  }\n}\nfunction CrimesRateChicagoComponent_table_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"table\", 5)(1, \"thead\")(2, \"tr\")(3, \"th\");\n    i0.ɵɵtext(4, \"Tipo di Crimine\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"th\");\n    i0.ɵɵtext(6, \"Data\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\");\n    i0.ɵɵtext(8, \"Descrizione\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(9, \"tbody\");\n    i0.ɵɵtemplate(10, CrimesRateChicagoComponent_table_4_tr_10_Template, 8, 6, \"tr\", 6);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.crimes);\n  }\n}\nfunction CrimesRateChicagoComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"p\");\n    i0.ɵɵtext(2, \"Nessun crimine trovato per il periodo richiesto.\");\n    i0.ɵɵelementEnd()();\n  }\n}\nexport class CrimesRateChicagoComponent {\n  constructor(crimeService) {\n    this.crimeService = crimeService;\n    this.crimes = []; // Array per contenere i crimini\n    this.errorMessage = ''; // Variabile per errori\n  }\n\n  ngOnInit() {\n    this.fetchCrimes();\n  }\n  // Funzione per recuperare i crimini\n  fetchCrimes() {\n    const params = {\n      '$limit': '10',\n      '$where': 'year > 2015' // Filtra per crimini dopo il 2015\n    };\n\n    this.crimeService.getCrimes(params).subscribe({\n      next: data => {\n        this.crimes = data; // Salva i dati nel componente\n      },\n\n      error: err => {\n        this.errorMessage = 'Errore nel recupero dei dati: ' + err.message;\n      }\n    });\n  }\n  static {\n    this.ɵfac = function CrimesRateChicagoComponent_Factory(t) {\n      return new (t || CrimesRateChicagoComponent)(i0.ɵɵdirectiveInject(i1.CrimesService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: CrimesRateChicagoComponent,\n      selectors: [[\"app-crimes-rate-chicago\"]],\n      decls: 6,\n      vars: 3,\n      consts: [[1, \"container\"], [\"class\", \"error\", 4, \"ngIf\"], [\"border\", \"1\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"error\"], [\"border\", \"1\"], [4, \"ngFor\", \"ngForOf\"]],\n      template: function CrimesRateChicagoComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h1\");\n          i0.ɵɵtext(2, \"Crimini a Chicago (dal 2015)\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(3, CrimesRateChicagoComponent_div_3_Template, 2, 1, \"div\", 1);\n          i0.ɵɵtemplate(4, CrimesRateChicagoComponent_table_4_Template, 11, 1, \"table\", 2);\n          i0.ɵɵtemplate(5, CrimesRateChicagoComponent_div_5_Template, 3, 0, \"div\", 3);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", ctx.errorMessage);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.crimes.length > 0);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.crimes.length === 0);\n        }\n      },\n      dependencies: [i2.NgForOf, i2.NgIf, i2.DatePipe],\n      styles: [\".container[_ngcontent-%COMP%] {\\n    margin: 20px;\\n    font-family: Arial, sans-serif;\\n  }\\n  \\n  h1[_ngcontent-%COMP%] {\\n    color: #333;\\n  }\\n  \\n  .error[_ngcontent-%COMP%] {\\n    color: red;\\n    font-weight: bold;\\n  }\\n  \\n  table[_ngcontent-%COMP%] {\\n    width: 100%;\\n    border-collapse: collapse;\\n  }\\n  \\n  th[_ngcontent-%COMP%], td[_ngcontent-%COMP%] {\\n    padding: 8px;\\n    text-align: left;\\n  }\\n  \\n  th[_ngcontent-%COMP%] {\\n    background-color: #f4f4f4;\\n  }\\n  \\n  tr[_ngcontent-%COMP%]:nth-child(even) {\\n    background-color: #f9f9f9;\\n  }\\n  \\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY3JpbWVzLXJhdGUtY2hpY2Fnby9jcmltZXMtcmF0ZS1jaGljYWdvLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxZQUFZO0lBQ1osOEJBQThCO0VBQ2hDOztFQUVBO0lBQ0UsV0FBVztFQUNiOztFQUVBO0lBQ0UsVUFBVTtJQUNWLGlCQUFpQjtFQUNuQjs7RUFFQTtJQUNFLFdBQVc7SUFDWCx5QkFBeUI7RUFDM0I7O0VBRUE7SUFDRSxZQUFZO0lBQ1osZ0JBQWdCO0VBQ2xCOztFQUVBO0lBQ0UseUJBQXlCO0VBQzNCOztFQUVBO0lBQ0UseUJBQXlCO0VBQzNCIiwic291cmNlc0NvbnRlbnQiOlsiLmNvbnRhaW5lciB7XHJcbiAgICBtYXJnaW46IDIwcHg7XHJcbiAgICBmb250LWZhbWlseTogQXJpYWwsIHNhbnMtc2VyaWY7XHJcbiAgfVxyXG4gIFxyXG4gIGgxIHtcclxuICAgIGNvbG9yOiAjMzMzO1xyXG4gIH1cclxuICBcclxuICAuZXJyb3Ige1xyXG4gICAgY29sb3I6IHJlZDtcclxuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gIH1cclxuICBcclxuICB0YWJsZSB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XHJcbiAgfVxyXG4gIFxyXG4gIHRoLCB0ZCB7XHJcbiAgICBwYWRkaW5nOiA4cHg7XHJcbiAgICB0ZXh0LWFsaWduOiBsZWZ0O1xyXG4gIH1cclxuICBcclxuICB0aCB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjRmNGY0O1xyXG4gIH1cclxuICBcclxuICB0cjpudGgtY2hpbGQoZXZlbikge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2Y5ZjlmOTtcclxuICB9XHJcbiAgIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","ctx_r0","errorMessage","ɵɵtextInterpolate","crime_r4","primary_type","ɵɵpipeBind2","date","description","ɵɵtemplate","CrimesRateChicagoComponent_table_4_tr_10_Template","ɵɵproperty","ctx_r1","crimes","CrimesRateChicagoComponent","constructor","crimeService","ngOnInit","fetchCrimes","params","getCrimes","subscribe","next","data","error","err","message","ɵɵdirectiveInject","i1","CrimesService","selectors","decls","vars","consts","template","CrimesRateChicagoComponent_Template","rf","ctx","CrimesRateChicagoComponent_div_3_Template","CrimesRateChicagoComponent_table_4_Template","CrimesRateChicagoComponent_div_5_Template","length"],"sources":["C:\\Users\\ricca\\OneDrive\\Desktop\\Mappa_dati\\prove_Safezone\\prove_mappa\\src\\app\\crimes-rate-chicago\\crimes-rate-chicago.component.ts","C:\\Users\\ricca\\OneDrive\\Desktop\\Mappa_dati\\prove_Safezone\\prove_mappa\\src\\app\\crimes-rate-chicago\\crimes-rate-chicago.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { CrimesService } from '../crimes.service';\r\n\r\n@Component({\r\n  selector: 'app-crimes-rate-chicago',\r\n  templateUrl: './crimes-rate-chicago.component.html',\r\n  styleUrls: ['./crimes-rate-chicago.component.css']\r\n})\r\nexport class CrimesRateChicagoComponent implements OnInit{\r\n  crimes: any[] = [];  // Array per contenere i crimini\r\n  errorMessage: string = '';  // Variabile per errori\r\n\r\n  constructor(private crimeService: CrimesService) {}\r\n\r\n  ngOnInit(): void {\r\n    this.fetchCrimes();\r\n  }\r\n\r\n  // Funzione per recuperare i crimini\r\n  fetchCrimes(): void {\r\n    const params = {\r\n      '$limit': '10',  // Limita il numero di risultati (per esempio 10)\r\n      '$where': 'year > 2015'  // Filtra per crimini dopo il 2015\r\n    };\r\n\r\n    this.crimeService.getCrimes(params).subscribe({\r\n      next: (data) => {\r\n        this.crimes = data;  // Salva i dati nel componente\r\n      },\r\n      error: (err) => {\r\n        this.errorMessage = 'Errore nel recupero dei dati: ' + err.message;\r\n      }\r\n    });\r\n  }\r\n}\r\n","<div class=\"container\">\r\n    <h1>Crimini a Chicago (dal 2015)</h1>\r\n  \r\n    <div *ngIf=\"errorMessage\" class=\"error\">\r\n      {{ errorMessage }}\r\n    </div>\r\n  \r\n    <table *ngIf=\"crimes.length > 0\" border=\"1\">\r\n      <thead>\r\n        <tr>\r\n          <th>Tipo di Crimine</th>\r\n          <th>Data</th>\r\n          <th>Descrizione</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr *ngFor=\"let crime of crimes\">\r\n          <td>{{ crime.primary_type }}</td>\r\n          <td>{{ crime.date | date:'short' }}</td>\r\n          <td>{{ crime.description }}</td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  \r\n    <div *ngIf=\"crimes.length === 0\">\r\n      <p>Nessun crimine trovato per il periodo richiesto.</p>\r\n    </div>\r\n  </div>\r\n  \r\n"],"mappings":";;;;;ICGIA,EAAA,CAAAC,cAAA,aAAwC;IACtCD,EAAA,CAAAE,MAAA,GACF;IAAAF,EAAA,CAAAG,YAAA,EAAM;;;;IADJH,EAAA,CAAAI,SAAA,GACF;IADEJ,EAAA,CAAAK,kBAAA,MAAAC,MAAA,CAAAC,YAAA,MACF;;;;;IAWIP,EAAA,CAAAC,cAAA,SAAiC;IAC3BD,EAAA,CAAAE,MAAA,GAAwB;IAAAF,EAAA,CAAAG,YAAA,EAAK;IACjCH,EAAA,CAAAC,cAAA,SAAI;IAAAD,EAAA,CAAAE,MAAA,GAA+B;;IAAAF,EAAA,CAAAG,YAAA,EAAK;IACxCH,EAAA,CAAAC,cAAA,SAAI;IAAAD,EAAA,CAAAE,MAAA,GAAuB;IAAAF,EAAA,CAAAG,YAAA,EAAK;;;;IAF5BH,EAAA,CAAAI,SAAA,GAAwB;IAAxBJ,EAAA,CAAAQ,iBAAA,CAAAC,QAAA,CAAAC,YAAA,CAAwB;IACxBV,EAAA,CAAAI,SAAA,GAA+B;IAA/BJ,EAAA,CAAAQ,iBAAA,CAAAR,EAAA,CAAAW,WAAA,OAAAF,QAAA,CAAAG,IAAA,WAA+B;IAC/BZ,EAAA,CAAAI,SAAA,GAAuB;IAAvBJ,EAAA,CAAAQ,iBAAA,CAAAC,QAAA,CAAAI,WAAA,CAAuB;;;;;IAZjCb,EAAA,CAAAC,cAAA,eAA4C;IAGlCD,EAAA,CAAAE,MAAA,sBAAe;IAAAF,EAAA,CAAAG,YAAA,EAAK;IACxBH,EAAA,CAAAC,cAAA,SAAI;IAAAD,EAAA,CAAAE,MAAA,WAAI;IAAAF,EAAA,CAAAG,YAAA,EAAK;IACbH,EAAA,CAAAC,cAAA,SAAI;IAAAD,EAAA,CAAAE,MAAA,kBAAW;IAAAF,EAAA,CAAAG,YAAA,EAAK;IAGxBH,EAAA,CAAAC,cAAA,YAAO;IACLD,EAAA,CAAAc,UAAA,KAAAC,iDAAA,gBAIK;IACPf,EAAA,CAAAG,YAAA,EAAQ;;;;IALgBH,EAAA,CAAAI,SAAA,IAAS;IAATJ,EAAA,CAAAgB,UAAA,YAAAC,MAAA,CAAAC,MAAA,CAAS;;;;;IAQnClB,EAAA,CAAAC,cAAA,UAAiC;IAC5BD,EAAA,CAAAE,MAAA,uDAAgD;IAAAF,EAAA,CAAAG,YAAA,EAAI;;;ADjB7D,OAAM,MAAOgB,0BAA0B;EAIrCC,YAAoBC,YAA2B;IAA3B,KAAAA,YAAY,GAAZA,YAAY;IAHhC,KAAAH,MAAM,GAAU,EAAE,CAAC,CAAE;IACrB,KAAAX,YAAY,GAAW,EAAE,CAAC,CAAE;EAEsB;;EAElDe,QAAQA,CAAA;IACN,IAAI,CAACC,WAAW,EAAE;EACpB;EAEA;EACAA,WAAWA,CAAA;IACT,MAAMC,MAAM,GAAG;MACb,QAAQ,EAAE,IAAI;MACd,QAAQ,EAAE,aAAa,CAAE;KAC1B;;IAED,IAAI,CAACH,YAAY,CAACI,SAAS,CAACD,MAAM,CAAC,CAACE,SAAS,CAAC;MAC5CC,IAAI,EAAGC,IAAI,IAAI;QACb,IAAI,CAACV,MAAM,GAAGU,IAAI,CAAC,CAAE;MACvB,CAAC;;MACDC,KAAK,EAAGC,GAAG,IAAI;QACb,IAAI,CAACvB,YAAY,GAAG,gCAAgC,GAAGuB,GAAG,CAACC,OAAO;MACpE;KACD,CAAC;EACJ;;;uBAzBWZ,0BAA0B,EAAAnB,EAAA,CAAAgC,iBAAA,CAAAC,EAAA,CAAAC,aAAA;IAAA;EAAA;;;YAA1Bf,0BAA0B;MAAAgB,SAAA;MAAAC,KAAA;MAAAC,IAAA;MAAAC,MAAA;MAAAC,QAAA,WAAAC,oCAAAC,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;UCRvCzC,EAAA,CAAAC,cAAA,aAAuB;UACfD,EAAA,CAAAE,MAAA,mCAA4B;UAAAF,EAAA,CAAAG,YAAA,EAAK;UAErCH,EAAA,CAAAc,UAAA,IAAA6B,yCAAA,iBAEM;UAEN3C,EAAA,CAAAc,UAAA,IAAA8B,2CAAA,oBAeQ;UAER5C,EAAA,CAAAc,UAAA,IAAA+B,yCAAA,iBAEM;UACR7C,EAAA,CAAAG,YAAA,EAAM;;;UAxBEH,EAAA,CAAAI,SAAA,GAAkB;UAAlBJ,EAAA,CAAAgB,UAAA,SAAA0B,GAAA,CAAAnC,YAAA,CAAkB;UAIhBP,EAAA,CAAAI,SAAA,GAAuB;UAAvBJ,EAAA,CAAAgB,UAAA,SAAA0B,GAAA,CAAAxB,MAAA,CAAA4B,MAAA,KAAuB;UAiBzB9C,EAAA,CAAAI,SAAA,GAAyB;UAAzBJ,EAAA,CAAAgB,UAAA,SAAA0B,GAAA,CAAAxB,MAAA,CAAA4B,MAAA,OAAyB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}